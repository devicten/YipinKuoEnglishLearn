import{d as g,a as S,L as x,r as I,o as A,e as V,t as w,v as $,x as t,y as k,N as u,P as z,Q as c,R as b,C,D as R,_ as M,M as T,g as N,S as v,T as U,B as H,z as h,U as O,V as Q,G as B,W as D,O as Z}from"./BSEe4u4_.js";const P=l=>(C("data-v-aef62bc6"),l=l(),R(),l),j={class:"navbar navbar-expand-lg navbar-light bg-primary"},F={class:"container"},E=P(()=>t("a",{class:"navbar-brand",href:"/"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-house",viewBox:"0 0 16 16"},[t("path",{d:"M8.707 1.5a1 1 0 0 0-1.414 0L.646 8.146a.5.5 0 0 0 .708.708L2 8.207V13.5A1.5 1.5 0 0 0 3.5 15h9a1.5 1.5 0 0 0 1.5-1.5V8.207l.646.647a.5.5 0 0 0 .708-.708L13 5.793V2.5a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5v1.293zM13 7.207V13.5a.5.5 0 0 1-.5.5h-9a.5.5 0 0 1-.5-.5V7.207l5-5z"})])],-1)),J={class:"progress"},q={class:"progress-content"},W=P(()=>t("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-sliders",viewBox:"0 0 16 16"},[t("path",{"fill-rule":"evenodd",d:"M11.5 2a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3M9.05 3a2.5 2.5 0 0 1 4.9 0H16v1h-2.05a2.5 2.5 0 0 1-4.9 0H0V3zM4.5 7a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3M2.05 8a2.5 2.5 0 0 1 4.9 0H16v1H6.95a2.5 2.5 0 0 1-4.9 0H0V8zm9.45 4a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3m-2.45 1a2.5 2.5 0 0 1 4.9 0H16v1h-2.05a2.5 2.5 0 0 1-4.9 0H0v-1z"})])],-1)),G={class:"navbar-nav me-auto mb-2 mb-lg-0"},K={class:"nav-item"},X=P(()=>t("a",{class:"nav-link",href:"#"}," Profile ",-1)),Y=[X],tt={class:"nav-item"},st={class:"nav-item"},ot=g({__name:"comNav",setup(l){const{$bootstrap:s}=S(),a=x(),d=I(null);let o;A(()=>{o=s.toast(d.value)}),V(()=>{o.dispose()});async function r(){return o.hide(),a.showslot=!1,a.showlogin=!0,!1}async function f(){var m=!1;try{(await(await fetch("/api/logout",{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify({})})).json()).code!==200?m=!0:location.reload()}catch{m=!0}return!1}return(m,e)=>(w(),$("nav",j,[t("div",F,[E,t("div",J,[t("div",q,k(u(a).vCurrentQuest)+" / "+k(u(a).vTotalQuest),1),t("div",{class:"progress-bar bg-info",role:"progressbar",style:z(`
        width: ${Math.ceil(u(a).vCurrentQuest/u(a).vTotalQuest*100)}%`),"aria-valuenow":"50","aria-valuemin":"0","aria-valuemax":"100"},null,4)]),W,t("div",{class:"collapse navbar-collapse",ref_key:"collapseRef",ref:d,id:"navbarSupportedContent"},[t("ul",G,[c(t("li",K,Y,512),[[b,u(a).IsLogin]]),c(t("li",tt,[t("a",{class:"nav-link",onClick:r}," Sign in ")],512),[[b,!u(a).IsLogin]]),c(t("li",st,[t("a",{class:"nav-link",onClick:f},"Sign out")],512),[[b,u(a).IsLogin]])])],512)])]))}}),et=M(ot,[["__scopeId","data-v-aef62bc6"]]),y=l=>(C("data-v-c2b37786"),l=l(),R(),l),at={class:"box"},nt={class:"d-flex"},lt={class:"toast-body"},it=y(()=>t("button",{type:"button",class:"btn-close me-2 m-auto","data-bs-dismiss":"toast","aria-label":"Close"},null,-1)),ct=y(()=>t("div",{class:"form-outline mb-4 s-form-title"},[t("h2",null,"Kinglish"),t("a",{class:"btn-close m-auto",href:"/"})],-1)),rt={class:"form-outline mb-4"},dt=y(()=>t("label",{class:"form-label",for:"txtAccount"},"Account",-1)),ut={class:"form-outline mb-4"},mt=y(()=>t("label",{class:"form-label",for:"txtPassword"},"Password",-1)),_t={class:"row mb-4"},bt={class:"col d-flex justify-content-center"},pt={class:"form-check"},ft=y(()=>t("label",{class:"form-check-label",for:"ckbAutoLogin"}," Remember me ",-1)),vt={class:"text-center"},ht=y(()=>t("p",null,"or sign up with:",-1)),gt={type:"button",class:"btn btn-link btn-floating mx-1"},xt={type:"button",class:"btn btn-link btn-floating mx-1"},wt={type:"button",class:"btn btn-link btn-floating mx-1"},$t={type:"button",class:"btn btn-link btn-floating mx-1"},yt=g({__name:"comLogin",setup(l){const s=x(),{$bootstrap:a}=S(),d=I(null);let o;const r=T({account:"kevin",password:"1qaz@WSX3edc",autologin:!1,message:""});A(()=>{o=a.toast(d.value)}),V(()=>{o.dispose()});async function f(){var e=!1,n="account or password error.";if(/[a-zA-Z0-9]{3,10}$/.test(r.account)==!1)e=!0;else if(/(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[a-zA-Z\d!@#$%^&*-_]{8,}$/.test(r.password)==!1)e=!0;else try{const i=await(await fetch("/api/login",{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify(r)})).json();i.code!==200?(e=!0,n=i.message):location.reload()}catch{e=!0}if(e===!0){r.message=n,o.show();return}}async function m(){return s.showlogin=!1,s.showregister=!0,!1}return(e,n)=>{const _=N("font-awesome-icon");return w(),$("div",at,[t("div",{id:"RespToast",ref_key:"toastRef",ref:d,class:"toast align-items-center text-bg-danger border-0 mb-4",role:"alert","aria-live":"assertive","aria-atomic":"true"},[t("div",nt,[t("div",lt,k(r.message),1),it])],512),ct,t("div",rt,[dt,c(t("input",{type:"text",id:"txtAccount",class:"form-control","onUpdate:modelValue":n[0]||(n[0]=i=>r.account=i)},null,512),[[v,r.account]])]),t("div",ut,[mt,c(t("input",{type:"password",id:"txtPassword",class:"form-control","onUpdate:modelValue":n[1]||(n[1]=i=>r.password=i)},null,512),[[v,r.password]])]),t("div",_t,[t("div",bt,[t("div",pt,[c(t("input",{type:"checkbox",id:"ckbAutoLogin",class:"form-check-input","onUpdate:modelValue":n[2]||(n[2]=i=>r.autologin=i)},null,512),[[U,r.autologin]]),ft])])]),t("div",{class:"btn btn-info mb-4 text-white",id:"btnSignIn",onClick:f}," Sign in "),t("div",vt,[t("p",null,[H("Not a member? "),t("div",{class:"btn btn-link",onClick:m},"Register")]),ht,t("button",gt,[h(_,{icon:["fab","facebook"]})]),t("button",xt,[h(_,{icon:["fab","google"]})]),t("button",wt,[h(_,{icon:["fab","x-twitter"]})]),t("button",$t,[h(_,{icon:["fab","github"]})])])])}}}),kt=M(yt,[["__scopeId","data-v-c2b37786"]]),L=l=>(C("data-v-70b4a960"),l=l(),R(),l),St={class:"box"},It={class:"d-flex"},At={class:"toast-body"},Ct=L(()=>t("button",{type:"button",class:"btn-close btn-close-white me-2 m-auto","data-bs-dismiss":"toast","aria-label":"Close"},null,-1)),Rt=L(()=>t("div",{class:"form-outline mb-4 s-form-title"},[t("h2",null,"Forgotten Password"),t("a",{class:"btn-close m-auto",href:"/"})],-1)),Mt={class:"form-outline mb-4"},Vt=L(()=>t("label",{class:"form-label",for:"txtMail"},"Mail",-1)),Tt=g({__name:"comForgetpassword",setup(l){x();const{$bootstrap:s}=S(),a=I(null);let d;const o=T({mail:"",message:""});A(()=>{d=s.toast(a.value)}),V(()=>{d.dispose()});async function r(){}return(f,m)=>(w(),$("div",St,[t("div",{id:"RespToast",ref_key:"toastRef",ref:a,class:"toast align-items-center text-bg-danger border-0 mb-4",role:"alert","aria-live":"assertive","aria-atomic":"true"},[t("div",It,[t("div",At,k(o.message),1),Ct])],512),Rt,t("div",Mt,[Vt,c(t("input",{type:"text",id:"txtMail",class:"form-control","onUpdate:modelValue":m[0]||(m[0]=e=>o.mail=e)},null,512),[[v,o.mail]])]),t("div",{class:"btn btn-primary mb-4 text-white",id:"btnSend",onClick:r}," Send ")]))}}),Pt=M(Tt,[["__scopeId","data-v-70b4a960"]]),p=l=>(C("data-v-5daea1d1"),l=l(),R(),l),Lt={class:"box"},Qt={class:"d-flex"},zt={class:"toast-body"},Nt=p(()=>t("button",{type:"button",class:"btn-close btn-close-white me-2 m-auto","data-bs-dismiss":"toast","aria-label":"Close"},null,-1)),Ut=p(()=>t("div",{class:"form-outline mb-4 s-form-title"},[t("h2",null,"New Account"),t("a",{class:"btn-close m-auto",href:"/"})],-1)),Ht={class:"form-outline mb-4"},Ot=p(()=>t("label",{class:"form-label",for:"txtAccount"},"Account",-1)),Bt={class:"form-outline mb-4"},Dt=p(()=>t("label",{class:"form-label",for:"txtPassword"},"Password",-1)),Zt={class:"form-outline mb-4"},jt=p(()=>t("label",{class:"form-label",for:"txtPassword2"},"Confirm Password",-1)),Ft={class:"form-outline mb-4"},Et=p(()=>t("label",{class:"form-label",for:"txtMail"},"Mail",-1)),Jt={class:"form-outline mb-4"},qt=p(()=>t("label",{class:"form-label",for:"txtName"},"Name",-1)),Wt={class:"form-outline mb-4"},Gt=p(()=>t("label",{class:"form-label",for:"txtPhone"},"Phone",-1)),Kt={class:"form-outline mb-4"},Xt=p(()=>t("label",{class:"form-label mr-15",for:"ckbSex"},"Sex",-1)),Yt={class:"form-check form-check-inline"},ts=p(()=>t("label",{class:"form-check-label",for:"ckbSex"},"Male",-1)),ss={class:"form-check form-check-inline"},os=p(()=>t("label",{class:"form-check-label",for:"ckbSex"},"Female",-1)),es=g({__name:"comRegister",setup(l){x();const{$bootstrap:s}=S(),a=I(null);let d;const o=T({account:"",password:"",password2:"",mail:"",name:"",phone:"",sex:0,age:18,region:"",message:""});A(()=>{d=s.toast(a.value)}),V(()=>{d.dispose()});async function r(){}const f=e=>String(e).toLowerCase().match(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|.(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/),m={mask:"A",tokens:{A:{pattern:/[A-Za-z0-9]@[A-Za-z0-9.]/}},onMaska:e=>{e.completed=f(e.unmasked)}};return(e,n)=>{const _=O("maska");return w(),$("div",Lt,[t("div",{id:"RespToast",ref_key:"toastRef",ref:a,class:"toast align-items-center text-bg-danger border-0 mb-4",role:"alert","aria-live":"assertive","aria-atomic":"true"},[t("div",Qt,[t("div",zt,k(o.message),1),Nt])],512),Ut,t("div",Ht,[Ot,c(t("input",{type:"text",id:"txtAccount",class:"form-control","onUpdate:modelValue":n[0]||(n[0]=i=>o.account=i)},null,512),[[v,o.account]])]),t("div",Bt,[Dt,c(t("input",{type:"password",id:"txtPassword",class:"form-control","onUpdate:modelValue":n[1]||(n[1]=i=>o.password=i)},null,512),[[v,o.password]])]),t("div",Zt,[jt,c(t("input",{type:"password",id:"txtPassword2",class:"form-control","onUpdate:modelValue":n[2]||(n[2]=i=>o.password2=i)},null,512),[[v,o.password2]])]),t("div",Ft,[Et,c(t("input",{type:"text",id:"txtMail",class:"form-control","onUpdate:modelValue":n[3]||(n[3]=i=>o.mail=i)},null,512),[[_,void 0,m],[v,o.mail]])]),t("div",Jt,[qt,c(t("input",{type:"text",id:"txtName",class:"form-control","onUpdate:modelValue":n[4]||(n[4]=i=>o.name=i)},null,512),[[v,o.name]])]),t("div",Wt,[Gt,c(t("input",{type:"text",id:"txtPhone",class:"form-control","data-maska":"####-###-###","onUpdate:modelValue":n[5]||(n[5]=i=>o.phone=i)},null,512),[[_],[v,o.phone]])]),t("div",Kt,[Xt,t("div",Yt,[c(t("input",{class:"form-check-input",type:"radio",name:"ckbSex",id:"ckbSex0",value:"0","onUpdate:modelValue":n[6]||(n[6]=i=>o.sex=i)},null,512),[[Q,o.sex]]),ts]),t("div",ss,[c(t("input",{class:"form-check-input",type:"radio",name:"ckbSex",id:"ckbSex1",value:"1","onUpdate:modelValue":n[7]||(n[7]=i=>o.sex=i)},null,512),[[Q,o.sex]]),os])]),t("div",{class:"btn btn-primary mb-4 text-white",id:"btnSend",onClick:r}," Send ")])}}}),as=M(es,[["__scopeId","data-v-5daea1d1"]]),ns=window.setInterval,ls=l=>(C("data-v-accadb92"),l=l(),R(),l),is={class:"navbar fixed-bottom navbar-light bg-primary"},cs={class:"container-fluid"},rs={class:"inline-block text-start"},ds=ls(()=>t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-hourglass",viewBox:"0 0 16 16"},[t("path",{d:"M2 1.5a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-1v1a4.5 4.5 0 0 1-2.557 4.06c-.29.139-.443.377-.443.59v.7c0 .213.154.451.443.59A4.5 4.5 0 0 1 12.5 13v1h1a.5.5 0 0 1 0 1h-11a.5.5 0 1 1 0-1h1v-1a4.5 4.5 0 0 1 2.557-4.06c.29-.139.443-.377.443-.59v-.7c0-.213-.154-.451-.443-.59A4.5 4.5 0 0 1 3.5 3V2h-1a.5.5 0 0 1-.5-.5m2.5.5v1a3.5 3.5 0 0 0 1.989 3.158c.533.256 1.011.791 1.011 1.491v.702c0 .7-.478 1.235-1.011 1.491A3.5 3.5 0 0 0 4.5 13v1h7v-1a3.5 3.5 0 0 0-1.989-3.158C8.978 9.586 8.5 9.052 8.5 8.351v-.702c0-.7.478-1.235 1.011-1.491A3.5 3.5 0 0 0 11.5 3V2z"})],-1)),us=g({__name:"comBottom",setup(l){S();const s=x();T({message:""});var a=s.vTimesQuest*1e3;const d=I(null);let o;A(()=>{o=d.value,o.innerHTML=""}),B(()=>s.vTimesQuest,(e,n)=>{if(e>0&&n==0){a=s.vTimesQuest*1e3,a>60*1e3?o.innerHTML=new Date(a).toISOString().slice(11,19):o.innerHTML=new Date(a).toISOString().slice(14,19);var _=ns(function(){a=a-1e3,a>60*1e3?o.innerHTML=new Date(a).toISOString().slice(11,19):o.innerHTML=new Date(a).toISOString().slice(14,19),s.vRemainQuest=a/1e3,a==0&&clearInterval(_)},1200)}},{deep:!0});async function r(){console.log("pass");try{const e=await fetch("/api/quest",{method:"PUT",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify({idx:s.vIdx,score:0})});location.reload();return}catch(e){console.log(e)}}async function f(){for(var e=0;e<s.vArrQuest.length;e++)if(s.vArrQuest[e].id===(s.vIdx2===-1?s.vIdx:s.vIdx2)){if(e===0)return;s.vIdx2=s.vArrQuest[e-1].id}}async function m(){for(var e=0;e<s.vArrQuest.length;e++)if(s.vArrQuest[e].id===(s.vIdx2===-1?s.vIdx:s.vIdx2)){if(e===s.vArrQuest.length-1)return;s.vIdx2=s.vArrQuest[e+1].id===s.vIdx?s.vArrQuest[e+1].id:-1}}return(e,n)=>(w(),$("nav",is,[t("div",cs,[t("a",rs,[ds,t("p",{class:"inline-block fs-5",ref_key:"counterRef",ref:d},null,512)]),c(t("div",{class:"position-absolute end-15 btn btn-info",onClick:f},"上一題",512),[[b,u(s).showprevbtn]]),c(t("div",{class:"position-absolute end-10 btn btn-info",onClick:m},"下一題",512),[[b,u(s).shownextbtn]]),c(t("div",{class:"position-absolute end-5 btn btn-info",onClick:r},"看答案",512),[[b,!u(s).shownextbtn]])])]))}}),ms=M(us,[["__scopeId","data-v-accadb92"]]),_s={class:"container"},ps=g({__name:"default",setup(l){const s=x();return(a,d)=>{const o=et,r=kt,f=Pt,m=as,e=ms;return w(),$(Z,null,[h(o),t("div",_s,[c(t("div",null,[D(a.$slots,"default")],512),[[b,u(s).showslot]]),c(h(r,null,null,512),[[b,u(s).showlogin]]),c(h(f,null,null,512),[[b,u(s).showforgetpassword]]),c(h(m,null,null,512),[[b,u(s).showregister]])]),c(h(e,null,null,512),[[b,u(s).showslot]])],64)}}});export{ps as default};
