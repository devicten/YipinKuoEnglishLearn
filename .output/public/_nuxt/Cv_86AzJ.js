import{d as x,a as C,L as w,r as I,o as A,e as L,_ as S,t as y,v as k,x as t,y as $,N as U,O as i,P as b,C as P,D as M,Q as T,g as B,R as h,S as g,T as E,B as j,z as v,U as H,V as z,G as F,W as D,M as K}from"./CpExS5gg.js";const Z=x({__name:"comNav",setup(a,{expose:o}){o();const{$bootstrap:c}=C(),e=w(),d=I(null);let s;A(()=>{s=c.toast(d.value)}),L(()=>{s.dispose()});async function r(){return s.hide(),e.showslot=!1,e.showlogin=!0,!1}async function n(){var m=!1;try{(await(await fetch("/api/logout",{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify({})})).json()).code!==200?m=!0:location.reload()}catch{m=!0}return!1}const _={$bootstrap:c,authStore:e,collapseRef:d,get collapseRR(){return s},set collapseRR(m){s=m},btnSignin_OnClick:r,btnSignout_OnClick:n};return Object.defineProperty(_,"__isScriptSetup",{enumerable:!1,value:!0}),_}}),N=a=>(P("data-v-b4860d07"),a=a(),M(),a),Y={class:"navbar navbar-expand-lg navbar-light bg-primary"},J={class:"container"},q=N(()=>t("a",{class:"navbar-brand",href:"/"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-house",viewBox:"0 0 16 16"},[t("path",{d:"M8.707 1.5a1 1 0 0 0-1.414 0L.646 8.146a.5.5 0 0 0 .708.708L2 8.207V13.5A1.5 1.5 0 0 0 3.5 15h9a1.5 1.5 0 0 0 1.5-1.5V8.207l.646.647a.5.5 0 0 0 .708-.708L13 5.793V2.5a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5v1.293zM13 7.207V13.5a.5.5 0 0 1-.5.5h-9a.5.5 0 0 1-.5-.5V7.207l5-5z"})])],-1)),W={class:"progress"},G={class:"progress-content"},X=N(()=>t("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-sliders",viewBox:"0 0 16 16"},[t("path",{"fill-rule":"evenodd",d:"M11.5 2a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3M9.05 3a2.5 2.5 0 0 1 4.9 0H16v1h-2.05a2.5 2.5 0 0 1-4.9 0H0V3zM4.5 7a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3M2.05 8a2.5 2.5 0 0 1 4.9 0H16v1H6.95a2.5 2.5 0 0 1-4.9 0H0V8zm9.45 4a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3m-2.45 1a2.5 2.5 0 0 1 4.9 0H16v1h-2.05a2.5 2.5 0 0 1-4.9 0H0v-1z"})])],-1)),tt={class:"collapse navbar-collapse",ref:"collapseRef",id:"navbarSupportedContent"},et={class:"navbar-nav me-auto mb-2 mb-lg-0"},ot={class:"nav-item"},st=N(()=>t("a",{class:"nav-link",href:"#"}," Profile ",-1)),nt=[st],at={class:"nav-item"},rt={class:"nav-item"};function lt(a,o,c,e,d,s){return y(),k("nav",Y,[t("div",J,[q,t("div",W,[t("div",G,$(e.authStore.vCurrentQuest)+" / "+$(e.authStore.vTotalQuest),1),t("div",{class:"progress-bar bg-info",role:"progressbar",style:U(`
        width: ${Math.ceil(e.authStore.vCurrentQuest/e.authStore.vTotalQuest*100)}%`),"aria-valuenow":"50","aria-valuemin":"0","aria-valuemax":"100"},null,4)]),X,t("div",tt,[t("ul",et,[i(t("li",ot,[...nt],512),[[b,e.authStore.IsLogin]]),i(t("li",at,[t("a",{class:"nav-link",onClick:e.btnSignin_OnClick}," Sign in ")],512),[[b,!e.authStore.IsLogin]]),i(t("li",rt,[t("a",{class:"nav-link",onClick:e.btnSignout_OnClick},"Sign out")],512),[[b,e.authStore.IsLogin]])])],512)])])}const it=S(Z,[["render",lt],["__scopeId","data-v-b4860d07"],["__file","/home/runner/YipinKuoEnglishLearn/components/comNav.vue"]]),ct=x({__name:"comLogin",setup(a,{expose:o}){o();const c=w(),{$bootstrap:e}=C(),d=I(null);let s;const r=T({account:"kevin",password:"1qaz@WSX3edc",autologin:!1,message:""});A(()=>{s=e.toast(d.value)}),L(()=>{s.dispose()});async function n(){var u=!1,l="account or password error.";if(/[a-zA-Z0-9]{3,10}$/.test(r.account)==!1)u=!0;else if(/(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[a-zA-Z\d!@#$%^&*-_]{8,}$/.test(r.password)==!1)u=!0;else try{const V=await(await fetch("/api/login",{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify(r)})).json();V.code!==200?(u=!0,l=V.message):location.reload()}catch{u=!0}if(u===!0){r.message=l,s.show();return}}async function _(){return c.showlogin=!1,c.showforgetpassword=!0,!1}async function m(){return c.showlogin=!1,c.showregister=!0,!1}const f={authStore:c,$bootstrap:e,toastRef:d,get toastRR(){return s},set toastRR(u){s=u},state:r,SignIn:n,ForgetPassword:_,Register:m};return Object.defineProperty(f,"__isScriptSetup",{enumerable:!1,value:!0}),f}}),R=a=>(P("data-v-1fffa470"),a=a(),M(),a),dt={class:"box"},ut={id:"RespToast",ref:"toastRef",class:"toast align-items-center text-bg-danger border-0 mb-4",role:"alert","aria-live":"assertive","aria-atomic":"true"},_t={class:"d-flex"},mt={class:"toast-body"},ft=R(()=>t("button",{type:"button",class:"btn-close me-2 m-auto","data-bs-dismiss":"toast","aria-label":"Close"},null,-1)),bt=R(()=>t("div",{class:"form-outline mb-4 s-form-title"},[t("h2",null,"Kinglish"),t("a",{class:"btn-close m-auto",href:"/"})],-1)),pt={class:"form-outline mb-4"},ht=R(()=>t("label",{class:"form-label",for:"txtAccount"},"Account",-1)),vt={class:"form-outline mb-4"},gt=R(()=>t("label",{class:"form-label",for:"txtPassword"},"Password",-1)),xt={class:"row mb-4"},wt={class:"col d-flex justify-content-center"},St={class:"form-check"},yt=R(()=>t("label",{class:"form-check-label",for:"ckbAutoLogin"}," Remember me ",-1)),kt={class:"text-center"},Rt=R(()=>t("p",null,"or sign up with:",-1)),$t={type:"button",class:"btn btn-link btn-floating mx-1"},Ct={type:"button",class:"btn btn-link btn-floating mx-1"},It={type:"button",class:"btn btn-link btn-floating mx-1"},At={type:"button",class:"btn btn-link btn-floating mx-1"};function Pt(a,o,c,e,d,s){const r=B("font-awesome-icon");return y(),k("div",dt,[t("div",ut,[t("div",_t,[t("div",mt,$(e.state.message),1),ft])],512),bt,t("div",pt,[ht,i(t("input",{type:"text",id:"txtAccount",class:"form-control","onUpdate:modelValue":o[0]||(o[0]=n=>e.state.account=n)},null,512),[[h,e.state.account]])]),t("div",vt,[gt,i(t("input",{type:"password",id:"txtPassword",class:"form-control","onUpdate:modelValue":o[1]||(o[1]=n=>e.state.password=n)},null,512),[[h,e.state.password]])]),t("div",xt,[t("div",wt,[g(" Checkbox "),t("div",St,[i(t("input",{type:"checkbox",id:"ckbAutoLogin",class:"form-check-input","onUpdate:modelValue":o[2]||(o[2]=n=>e.state.autologin=n)},null,512),[[E,e.state.autologin]]),yt])]),g(` div class="col">
      <div class="btn btn-link" @click="ForgetPassword">Forgot password?</div>
    </div `)]),g(" Submit button "),t("div",{class:"btn btn-info mb-4 text-white",id:"btnSignIn",onClick:e.SignIn}," Sign in "),g(" Register buttons "),t("div",kt,[t("p",null,[j("Not a member? "),t("div",{class:"btn btn-link",onClick:e.Register},"Register")]),Rt,t("button",$t,[v(r,{icon:["fab","facebook"]})]),t("button",Ct,[v(r,{icon:["fab","google"]})]),t("button",It,[v(r,{icon:["fab","x-twitter"]})]),t("button",At,[v(r,{icon:["fab","github"]})])])])}const Mt=S(ct,[["render",Pt],["__scopeId","data-v-1fffa470"],["__file","/home/runner/YipinKuoEnglishLearn/components/comLogin.vue"]]),Vt=x({__name:"comForgetpassword",setup(a,{expose:o}){o();const c=w(),{$bootstrap:e}=C(),d=I(null);let s;const r=T({mail:"",message:""});A(()=>{s=e.toast(d.value)}),L(()=>{s.dispose()});async function n(){}const _={authStore:c,$bootstrap:e,toastRef:d,get toastRR(){return s},set toastRR(m){s=m},state:r,Send:n};return Object.defineProperty(_,"__isScriptSetup",{enumerable:!1,value:!0}),_}}),Q=a=>(P("data-v-9b9d67e9"),a=a(),M(),a),Lt={class:"box"},Tt={id:"RespToast",ref:"toastRef",class:"toast align-items-center text-bg-danger border-0 mb-4",role:"alert","aria-live":"assertive","aria-atomic":"true"},Ot={class:"d-flex"},Nt={class:"toast-body"},Qt=Q(()=>t("button",{type:"button",class:"btn-close btn-close-white me-2 m-auto","data-bs-dismiss":"toast","aria-label":"Close"},null,-1)),zt=Q(()=>t("div",{class:"form-outline mb-4 s-form-title"},[t("h2",null,"Forgotten Password"),t("a",{class:"btn-close m-auto",href:"/"})],-1)),Ut={class:"form-outline mb-4"},Bt=Q(()=>t("label",{class:"form-label",for:"txtMail"},"Mail",-1));function Et(a,o,c,e,d,s){return y(),k("div",Lt,[t("div",Tt,[t("div",Ot,[t("div",Nt,$(e.state.message),1),Qt])],512),zt,t("div",Ut,[Bt,i(t("input",{type:"text",id:"txtMail",class:"form-control","onUpdate:modelValue":o[0]||(o[0]=r=>e.state.mail=r)},null,512),[[h,e.state.mail]])]),g(" Submit button "),t("div",{class:"btn btn-primary mb-4 text-white",id:"btnSend",onClick:e.Send}," Send ")])}const jt=S(Vt,[["render",Et],["__scopeId","data-v-9b9d67e9"],["__file","/home/runner/YipinKuoEnglishLearn/components/comForgetpassword.vue"]]),Ht=x({__name:"comRegister",setup(a,{expose:o}){o();const c=w(),{$bootstrap:e}=C(),d=I(null);let s;const r=T({account:"",password:"",password2:"",mail:"",name:"",phone:"",sex:0,age:18,region:"",message:""});A(()=>{s=e.toast(d.value)}),L(()=>{s.dispose()});async function n(){}const _=u=>String(u).toLowerCase().match(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|.(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/),f={authStore:c,$bootstrap:e,toastRef:d,get toastRR(){return s},set toastRR(u){s=u},state:r,Send:n,validateEmail:_,options:{mask:"A",tokens:{A:{pattern:/[A-Za-z0-9]@[A-Za-z0-9.]/}},onMaska:u=>{u.completed=_(u.unmasked)}}};return Object.defineProperty(f,"__isScriptSetup",{enumerable:!1,value:!0}),f}}),p=a=>(P("data-v-0a1021b0"),a=a(),M(),a),Ft={class:"box"},Dt={id:"RespToast",ref:"toastRef",class:"toast align-items-center text-bg-danger border-0 mb-4",role:"alert","aria-live":"assertive","aria-atomic":"true"},Kt={class:"d-flex"},Zt={class:"toast-body"},Yt=p(()=>t("button",{type:"button",class:"btn-close btn-close-white me-2 m-auto","data-bs-dismiss":"toast","aria-label":"Close"},null,-1)),Jt=p(()=>t("div",{class:"form-outline mb-4 s-form-title"},[t("h2",null,"New Account"),t("a",{class:"btn-close m-auto",href:"/"})],-1)),qt={class:"form-outline mb-4"},Wt=p(()=>t("label",{class:"form-label",for:"txtAccount"},"Account",-1)),Gt={class:"form-outline mb-4"},Xt=p(()=>t("label",{class:"form-label",for:"txtPassword"},"Password",-1)),te={class:"form-outline mb-4"},ee=p(()=>t("label",{class:"form-label",for:"txtPassword2"},"Confirm Password",-1)),oe={class:"form-outline mb-4"},se=p(()=>t("label",{class:"form-label",for:"txtMail"},"Mail",-1)),ne={class:"form-outline mb-4"},ae=p(()=>t("label",{class:"form-label",for:"txtName"},"Name",-1)),re={class:"form-outline mb-4"},le=p(()=>t("label",{class:"form-label",for:"txtPhone"},"Phone",-1)),ie={class:"form-outline mb-4"},ce=p(()=>t("label",{class:"form-label mr-15",for:"ckbSex"},"Sex",-1)),de={class:"form-check form-check-inline"},ue=p(()=>t("label",{class:"form-check-label",for:"ckbSex"},"Male",-1)),_e={class:"form-check form-check-inline"},me=p(()=>t("label",{class:"form-check-label",for:"ckbSex"},"Female",-1));function fe(a,o,c,e,d,s){const r=H("maska");return y(),k("div",Ft,[t("div",Dt,[t("div",Kt,[t("div",Zt,$(e.state.message),1),Yt])],512),Jt,t("div",qt,[Wt,i(t("input",{type:"text",id:"txtAccount",class:"form-control","onUpdate:modelValue":o[0]||(o[0]=n=>e.state.account=n)},null,512),[[h,e.state.account]])]),t("div",Gt,[Xt,i(t("input",{type:"password",id:"txtPassword",class:"form-control","onUpdate:modelValue":o[1]||(o[1]=n=>e.state.password=n)},null,512),[[h,e.state.password]])]),t("div",te,[ee,i(t("input",{type:"password",id:"txtPassword2",class:"form-control","onUpdate:modelValue":o[2]||(o[2]=n=>e.state.password2=n)},null,512),[[h,e.state.password2]])]),t("div",oe,[se,i(t("input",{type:"text",id:"txtMail",class:"form-control","onUpdate:modelValue":o[3]||(o[3]=n=>e.state.mail=n)},null,512),[[r,void 0,e.options],[h,e.state.mail]])]),t("div",ne,[ae,i(t("input",{type:"text",id:"txtName",class:"form-control","onUpdate:modelValue":o[4]||(o[4]=n=>e.state.name=n)},null,512),[[h,e.state.name]])]),t("div",re,[le,i(t("input",{type:"text",id:"txtPhone",class:"form-control","data-maska":"####-###-###","onUpdate:modelValue":o[5]||(o[5]=n=>e.state.phone=n)},null,512),[[r],[h,e.state.phone]])]),t("div",ie,[ce,t("div",de,[i(t("input",{class:"form-check-input",type:"radio",name:"ckbSex",id:"ckbSex0",value:"0","onUpdate:modelValue":o[6]||(o[6]=n=>e.state.sex=n)},null,512),[[z,e.state.sex]]),ue]),t("div",_e,[i(t("input",{class:"form-check-input",type:"radio",name:"ckbSex",id:"ckbSex1",value:"1","onUpdate:modelValue":o[7]||(o[7]=n=>e.state.sex=n)},null,512),[[z,e.state.sex]]),me])]),g(" Submit button "),t("div",{class:"btn btn-primary mb-4 text-white",id:"btnSend",onClick:e.Send}," Send ")])}const be=S(Ht,[["render",fe],["__scopeId","data-v-0a1021b0"],["__file","/home/runner/YipinKuoEnglishLearn/components/comRegister.vue"]]),pe=window.setInterval,he=x({__name:"comBottom",setup(a,{expose:o}){o();const{$bootstrap:c}=C(),e=w(),d=T({message:""});var s=e.vTimesQuest*1e3;const r=I(null);let n;A(()=>{n=r.value,n.innerHTML=""}),F(()=>e.vTimesQuest,(l,O)=>{if(l>0&&O==0){s=e.vTimesQuest*1e3,s>60*1e3?n.innerHTML=new Date(s).toISOString().slice(11,19):n.innerHTML=new Date(s).toISOString().slice(14,19);var V=pe(function(){s=s-1e3,s>60*1e3?n.innerHTML=new Date(s).toISOString().slice(11,19):n.innerHTML=new Date(s).toISOString().slice(14,19),e.vRemainQuest=s/1e3,s==0&&clearInterval(V)},1200)}},{deep:!0});async function _(){console.log("pass");try{const l=await fetch("/api/quest",{method:"PUT",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify({idx:e.vIdx,score:0})});location.reload();return}catch(l){console.log(l)}}async function m(){for(var l=0;l<e.vArrQuest.length;l++)if(e.vArrQuest[l].id===(e.vIdx2===-1?e.vIdx:e.vIdx2)){if(l===0)return;e.vIdx2=e.vArrQuest[l-1].id}}async function f(){for(var l=0;l<e.vArrQuest.length;l++)if(e.vArrQuest[l].id===(e.vIdx2===-1?e.vIdx:e.vIdx2)){if(l===e.vArrQuest.length-1)return;e.vIdx2=e.vArrQuest[l+1].id===e.vIdx?e.vArrQuest[l+1].id:-1}}const u={$bootstrap:c,authStore:e,state:d,get times(){return s},set times(l){s=l},counterRef:r,get counterRR(){return n},set counterRR(l){n=l},pass:_,prev:m,next:f};return Object.defineProperty(u,"__isScriptSetup",{enumerable:!1,value:!0}),u}}),ve=a=>(P("data-v-bae10c37"),a=a(),M(),a),ge={class:"navbar fixed-bottom navbar-light bg-primary"},xe={class:"container-fluid"},we={class:"inline-block text-start"},Se=ve(()=>t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-hourglass",viewBox:"0 0 16 16"},[t("path",{d:"M2 1.5a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-1v1a4.5 4.5 0 0 1-2.557 4.06c-.29.139-.443.377-.443.59v.7c0 .213.154.451.443.59A4.5 4.5 0 0 1 12.5 13v1h1a.5.5 0 0 1 0 1h-11a.5.5 0 1 1 0-1h1v-1a4.5 4.5 0 0 1 2.557-4.06c.29-.139.443-.377.443-.59v-.7c0-.213-.154-.451-.443-.59A4.5 4.5 0 0 1 3.5 3V2h-1a.5.5 0 0 1-.5-.5m2.5.5v1a3.5 3.5 0 0 0 1.989 3.158c.533.256 1.011.791 1.011 1.491v.702c0 .7-.478 1.235-1.011 1.491A3.5 3.5 0 0 0 4.5 13v1h7v-1a3.5 3.5 0 0 0-1.989-3.158C8.978 9.586 8.5 9.052 8.5 8.351v-.702c0-.7.478-1.235 1.011-1.491A3.5 3.5 0 0 0 11.5 3V2z"})],-1)),ye={class:"inline-block fs-5",ref:"counterRef"};function ke(a,o,c,e,d,s){return y(),k("nav",ge,[t("div",xe,[t("a",we,[Se,t("p",ye,null,512)]),i(t("div",{class:"position-absolute end-15 btn btn-info",onClick:e.prev},"上一題",512),[[b,e.authStore.showprevbtn]]),i(t("div",{class:"position-absolute end-10 btn btn-info",onClick:e.next},"下一題",512),[[b,e.authStore.shownextbtn]]),i(t("div",{class:"position-absolute end-5 btn btn-info",onClick:e.pass},"看答案",512),[[b,!e.authStore.shownextbtn]])])])}const Re=S(he,[["render",ke],["__scopeId","data-v-bae10c37"],["__file","/home/runner/YipinKuoEnglishLearn/components/comBottom.vue"]]),$e=x({__name:"default",setup(a,{expose:o}){o();const e={authStore:w()};return Object.defineProperty(e,"__isScriptSetup",{enumerable:!1,value:!0}),e}}),Ce={class:"container"};function Ie(a,o,c,e,d,s){const r=it,n=Mt,_=jt,m=be,f=Re;return y(),k(K,null,[v(r),t("div",Ce,[i(t("div",null,[D(a.$slots,"default")],512),[[b,e.authStore.showslot]]),i(v(n,null,null,512),[[b,e.authStore.showlogin]]),i(v(_,null,null,512),[[b,e.authStore.showforgetpassword]]),i(v(m,null,null,512),[[b,e.authStore.showregister]])]),i(v(f,null,null,512),[[b,e.authStore.showslot]])],64)}const Pe=S($e,[["render",Ie],["__file","/home/runner/YipinKuoEnglishLearn/layouts/default.vue"]]);export{Pe as default};
